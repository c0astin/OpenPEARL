#+TITLE: Wasserspeicher
#+AUTHOR: Marcel Schaible
#+LANGUAGE: de
#+STARTUP: overview inlineimages
#   +OPTIONS: toc:nil
#+OPTIONS: ^:nil
#+OPTIONS: \n:t
#+SETUPFILE: /home/marcel/sciebo/org-html-themes-master/org/theme-readtheorg-local.setup
#+TODO: WICHTIG(w)
#+TODO: TODO(t) | DONE(d)
#+TODO: REPORT(r) BUG(b) KNOWNCAUSE(k) | FIXED(f)
#+TODO: | CANCELED(c)
#+TODO: ArtikelFehlt(?) Abstract(p) Labels(!) (Started(s) Added(a) Checked(k) Rework(r) Cite(.) Ok(o)
# ReadTheOrg Exporter
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
#+HTML_HEAD: <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
#+HTML_HEAD: <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
#+HTML_HEAD: <script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
#+HTML_HEAD: <script type="text/javascript" src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
# Change the background of source block.
#+HTML_HEAD: <style>pre.src{background:#343131;color:white;} </style>

** Wasserspeicher



#+CAPTION: Wasserspeicher
#+NAME: fig:wasserspeicher
[[./wasserSpeicher.pdf][Wasserspeicher]]

- Wassertank
- Aktoren:
  1x Pumpe, Drehzahlgesteuert
  1x Ventil, Offen/Geschlossen
  2x Drucksensoren
- Verbraucher

[[https://www.leifiphysik.de/mechanik/druck-und-auftrieb/grundwissen/schweredruck][Schweredruck am Boden einer Wassersäule]]

Es sei ein Wassertank mit folgenden Abmessungen gegeben

| Länge  | 5m |
| Breite | 2m |
| Höhe   | 3m |

Der Druck ist allgemein definiert als Kraft pro Fläche
$p =\frac{F_G}{A}$



Damit sind Echtzeitsysteme digitale Datenverarbeitungsanlagen bei
denen der Nutzen eines Berechnungsergebnisses nicht nur vom Ergebnis
selbst, sondern auch vom Zeitpunkt der Auslieferung abhängt.

Als Beispiel für eine typische Prozessautomatisierung ist In Abbildung
\ref{fig:pumpstation} eine schematische Darstellung einer Pumpstation
mit folgenden Komponenten dargestellt:

\begin{itemize}
    \item Pumpe
    \item Manometer
    \item Stellventil
    \item Reservoir
\end{itemize}

F"ur einen Wasserturm, vom dem fortw"ahrend Verbraucher alleine durch
die Schwerkraft Wasser entnehmen k"onnen, zu betreiben muss das Reservoir 
stets hinreichend 
gef"ullt sein. Wenn der Wasserstand unter der \textit{leer} Marke ist
dann muss die Pumpe gestartet werde.
Um die Pumpe einzuschalten muss zuerst der Pumpenmotor über das
Steuersignal \textit{ein/aus} eingeschaltet werden.  Die Spezifikation
der Pumpe bestimmt das Zeitdauer bis ein vorher festgelegter Druck am
Ventil anliegt.  Dieser Druck kann mittels des Manometers
kontinuierlich am Signal \textit{Druck} gemessen werden.  Falls der
gemessene Druck niedriger als der Solldruck ist, kann unter
Zuhilfenahme des Drehzahlgebers überprüft werden ob  die Pumpe defekt ist
oder keine Flüssigkeit in der Leitung zur Verfügung steht.
Erreicht der Druck den Solldruck wird das Ventil durch
einschalten des Stellmotors (Signale \textit{oeffnen} und \textit{schliessen})
geöffnet. Damit wird unzul"assiger ein R"uckflu"s aus dem Reservoir in das
prim"are  Versorgungsnetz vermieden.
Dies benötigt je nach Bauweise
des Ventils eine genau definierte Zeit.  Der Ventilstatus kann durch
die Signale \textit{offen} und \textit{zu} kontrolliert werden.
Um den Pumpprozess zu beenden muss zuerst das Ventil geschlossen werden.
Dies kann wiederum über den Ventilstatus abgefragt werden. 
Danach kann der Pumpenmotor ausgeschaltet werden.

#+CAPTION: Wasserspeicher
#+NAME:   fig:wasserspeicher
[[./wasserspeicher.png]]

\begin{figure}[!htbp]
\centering
  % Requires \usepackage{graphicx}
  \includegraphics[width=1.0\textwidth]{wasserspeicher.png}\\
   \caption{Wasserspeicher}
  \label{fig:Wasserspeicher}
\end{figure}


#+begin_src shell
tail -f --follow=name --retry sim.log
 #+end_src


 \begin{table}[h!]
\begin{tabular}{p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt} p{20pt}  >{\centering\arraybackslash}m{20pt}}
\centering 15 & \centering 14 & \centering 13 & \centering 12 & \centering 11 & \centering 10 & \centering 9 & \centering 8 & \centering 7 & \centering 6 & \centering 5 & \centering 4 & \centering 3 & \centering 2 & \centering 1 & 0\\\hline
\multicolumn{1}{|c|}{Sim} & 
\multicolumn{1}{c|}{Pump} & 
\multicolumn{1}{c|}{Pump rpm} & 
\multicolumn{5}{|c|}{\cellcolor{gray!25}} & 
\multicolumn{1}{c|}{DIR} & 
\multicolumn{7}{c|}{PWM} \\\hline
\end{tabular}
\end{table}

 #+BEGIN_QUOTE
      simulation_is_running, 
      pump_enabled, 
      pump_current_rpm
      pressure_sensor_1
      valve_enabled
      pressure_sensor_2
      current_consumer_dissipation
#+END_QUOTE

#+begin_note
This is a useful note.
#+end_note


 
#+BEGIN_EXAMPLE
12:00:01.157 SIM: |1|1| 500|    0.0000|0|    0.0000|    0.0000|
#+END_EXAMPLE
